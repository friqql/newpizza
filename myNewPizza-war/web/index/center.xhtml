<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    
    <body>
        
        <ui:composition>
           
           
    <p:accordionPanel rendered="#{not benutzerController.logedIn}">
                    <!-- ***************************************EINLOGGEN***************************************-->
               
                    <p:tab title="#{msg.lin}" titleStyle="background-color:darkseagreen">

                        <h:form style="font-size:14px;margin:0px;padding:0px">


                            <h:panelGrid columns="3" style="font-size:14px;">
                                <h:outputLabel for="inbenutzername" value="#{msg.ben}" />
                                <h:inputText id="inbenutzername" value="#{benutzerController.myBenutzer.benutzername}" style="background-color:lavender" required="true" requiredMessage='#{messagesController.bnnl()}'/>
                                <p:message for="inbenutzername"/>
                                <h:outputLabel for="inPassword" value="#{msg.pw}" />

                                <h:inputSecret id="inPassword" value="#{benutzerController.myBenutzer.password}" style="background-color:lavender" required="true" requiredMessage='#{messagesController.pwnl()}'/>
                                <p:message for="inPassword"/>

                                <h:commandButton action="#{benutzerController.login()}" value="#{msg.lin}" style="background-color:darkseagreen;color:white;font-size:14px;"/>
                            </h:panelGrid>


                        </h:form>




                    </p:tab>
                   
                    <!-- ***************************************REGISTRIEREN***************************************-->
                    <p:tab title="#{msg.reg}" titleStyle="background-color:darkseagreen">
                        <h:form style="font-size:14px;">

                            <h:panelGrid columns="6" style="font-size:14px;">


                                <h:outputLabel for="inbenutzername" value="#{msg.ben}" />
                                <h:inputText id="inbenutzername" value="#{benutzerController.myBenutzer.benutzername}" required="true" requiredMessage='#{messagesController.reg_e()} #{messagesController.bnnl()}'/>
                                <h:outputLabel for="inPassword" value="#{msg.pw}" />
                                <h:inputSecret id="inPassword" value="#{benutzerController.myBenutzer.password}" required="true"   requiredMessage='#{messagesController.pwnl()}'/>


                                <h:outputLabel for="intitle" value="#{msg.sex}" />
                                <h:selectOneMenu id="intitle" value="#{benutzerController.myBenutzer.title}">
                                    <f:selectItem itemValue="#{msg.hrn}" itemLabel="#{msg.man}" />
                                    <f:selectItem itemValue="#{msg.fra}" itemLabel="#{msg.fem}" />	   							
                                </h:selectOneMenu>	

                                <h:outputLabel for="infirstname" value="#{msg.vn}" />
                                <h:inputText id="infirstname" value="#{benutzerController.myBenutzer.firstname}" required="true" requiredMessage='#{messagesController.fnnl()}' />
                                <h:outputLabel for="inlastname" value="#{msg.nn}" />
                                <h:inputText  id="inlastname" value="#{benutzerController.myBenutzer.lastname}" required="true" requiredMessage='#{messagesController.lnnl()}'/>
                                <h:outputLabel for="instreet" value="#{msg.str}" />
                                <h:inputText id="instreet" value="#{benutzerController.myBenutzer.street}" required="true" requiredMessage='#{messagesController.stnl()}'/>
                                <h:outputLabel for="inhouse" value="#{msg.hn}" />
                                <h:inputText  id="inhouse" value="#{benutzerController.myBenutzer.house}" required="true" requiredMessage='#{messagesController.hnnl()}' />
                                <h:outputLabel for="inplz" value="#{msg.plz}" />
                                <h:inputText id="inplz" value="#{benutzerController.myBenutzer.plz}" required="true" requiredMessage='#{messagesController.plznl()}' />
                                <h:outputLabel for="inplace" value="#{msg.ort}" />
                                <h:inputText  id="inplace" value="#{benutzerController.myBenutzer.place}" required="true" requiredMessage='#{messagesController.ornl()}'/>


                              
                                <h:commandButton action="#{benutzerController.register()}" value="#{msg.reg}" style="background-color:darkseagreen;color:white;"/>
                            </h:panelGrid>
                        </h:form>
                          <h:form style="font-size:14px;background-color:darkseagreen"><h:commandButton action="#{benutzerController.reset()}" value="#{msg.res}" style="background-color:darkseagreen;color:white;font-size:14px;"/></h:form>
                    </p:tab>

                </p:accordionPanel>

                <!-- ***************************************BESTELLUNG***************************************-->

                <h:form>

                    <h:dataTable id="speise" value="#{speiseController.speiselist}" var="speise" style="font-size:14px;">
                        <f:facet name="header">#{msg.usk}</f:facet>
                        <h:column>
                            <f:facet name ="header">#{msg.num}</f:facet>


                            <h:outputText value="#{speise.id}" />

                        </h:column>
                        <h:column>
                            <f:facet name="header">#{msg.nam}</f:facet>

                            <h:outputText value="#{speise.name}"/>

                        </h:column>

                        <h:column>
                            <f:facet name="header">#{msg.prs}</f:facet>

                            <h:outputText value="#{speise.price}">
                                <f:convertNumber type="currency" currencySymbol="â‚¬" locale="pt-PT" />
                            </h:outputText>

                        </h:column>


                        <h:column rendered="#{benutzerController.logedIn}">
                            <f:facet name="header" >#{msg.men} </f:facet>

                            <h:inputText value="#{speise.ammount}"/>

                        </h:column>

                    </h:dataTable>

                    <h:commandButton action="#{bestellungController.addToBestellung(speiseController.speiselist)}" value="#{msg.plus}" rendered="#{benutzerController.logedIn}" style="background-color:darkseagreen;color:white;"/>



                    <h:commandButton action="#{speiseController.reset(speiseController.speiselist)}" value="#{msg.res}" rendered="#{benutzerController.logedIn}" style="background-color:darkseagreen;color:white;">
                        <f:actionListener binding="#{bestellungController.reset()}" />
                    </h:commandButton>

                </h:form>

         
        </ui:composition>
        
    </body>
</html>
